'use strict';

Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });

const object = require('./packages/utilities/core/src/object.js');
const guard = require('./packages/utilities/core/src/guard.js');

function deepMerge(source, ...objects) {
  for (const obj of objects) {
    const target = object.compact(obj);
    for (const key in target) {
      if (guard.isObject(obj[key])) {
        if (!source[key]) {
          source[key] = {};
        }
        deepMerge(source[key], obj[key]);
      } else {
        source[key] = obj[key];
      }
    }
  }
  return source;
}

exports.deepMerge = deepMerge;
