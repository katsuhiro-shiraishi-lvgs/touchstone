'use strict';

Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });

const jsxRuntime = require('react/jsx-runtime');
const React = require('react');
const environmentContext = require('./environment-context.cjs');

const Environment = (props) => {
  const { value, children } = props;
  const ref = React.useRef(null);
  const currentEnv = React.useMemo(() => () => value ?? ref.current?.ownerDocument ?? document, [value]);
  const showSpan = !value;
  return /* @__PURE__ */ jsxRuntime.jsxs(environmentContext.EnvironmentProvider, { value: currentEnv, children: [
    children,
    showSpan && /* @__PURE__ */ jsxRuntime.jsx("span", { hidden: true, ref })
  ] });
};

exports.Environment = Environment;
