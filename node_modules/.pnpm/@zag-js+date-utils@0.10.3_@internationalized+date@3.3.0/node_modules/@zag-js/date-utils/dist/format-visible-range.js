'use strict';

Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });

const date = require('@internationalized/date');
const getDayFormatter = require('./get-day-formatter.js');
const getMonthFormatter = require('./get-month-formatter.js');

function formatVisibleRange(startDate, endDate, locale, timeZone) {
  const start = startDate;
  const end = endDate ?? startDate;
  const dayFormatter = getDayFormatter.getDayFormatter(locale, timeZone);
  if (!date.isSameDay(start, date.startOfMonth(start))) {
    return dayFormatter.formatRange(start.toDate(timeZone), end.toDate(timeZone));
  }
  const monthFormatter = getMonthFormatter.getMonthFormatter(locale, timeZone);
  if (date.isSameDay(end, date.endOfMonth(start))) {
    return monthFormatter.format(start.toDate(timeZone));
  }
  if (date.isSameDay(end, date.endOfMonth(end))) {
    return monthFormatter.formatRange(start.toDate(timeZone), end.toDate(timeZone));
  }
  return "";
}

exports.formatVisibleRange = formatVisibleRange;
