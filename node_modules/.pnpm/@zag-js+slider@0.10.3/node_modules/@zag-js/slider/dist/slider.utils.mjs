import { snapValueToStep, clampValue, getPreviousStepValue, getNextStepValue } from '@zag-js/numeric-range';

function constrainValue(ctx, value) {
  const snapValue = snapValueToStep(value, ctx.min, ctx.max, ctx.step);
  return clampValue(snapValue, ctx.min, ctx.max);
}
function decrement(ctx, step) {
  const index = 0;
  const values = getPreviousStepValue(index, {
    ...ctx,
    step: step ?? ctx.step,
    values: [ctx.value]
  });
  return values[index];
}
function increment(ctx, step) {
  const index = 0;
  const values = getNextStepValue(index, {
    ...ctx,
    step: step ?? ctx.step,
    values: [ctx.value]
  });
  return values[index];
}

export { constrainValue, decrement, increment };
